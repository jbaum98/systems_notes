---
layout: post
title: "Seek"
date: 2015-10-26
---

# Umask
The file permission mask determines which permissions are not allowed.

You can set it with `umask`:
```c
mode_t umask(mode_t mask);
```

The mask is applied using bitwise operators:

```c
mask = 0022;                // 000 010 010
~mask;                      // 111 101 101
mode = 066;                 // 110 110 110
actual_mask = ~mask & mode; // 110 100 100 => 544
```

# Seek
C maintains an internal boomark of the current location within
an open file.

`lseek` lets you move the bookmark.

```c
int lseek(int file_desc, int offset, int whence);
```

`offset`
: how much to move the bookmark, can be negative

`whence`
: is from where to measure the offset:

    - `SEEK_SET` means from beginning of file
    - `SEEK_CUR` means from current position
    - `SEEK_END` means from the end of the file

Returns the number of bytes the bookmark is from the beginning of the file or `-1` if unsuccessful
